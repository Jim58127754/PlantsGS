<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>3DGS Viewer</title>
    <style>
        body { 
            margin: 0; 
            overflow: hidden; 
            background: #000;
        }
        #canvas { 
            width: 100vw; 
            height: 100vh; 
            display: block;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    
    <script type="module">
        import * as SPLAT from 'https://cdn.jsdelivr.net/npm/gsplat@latest';
        
        const canvas = document.getElementById('canvas');
        const renderer = new SPLAT.WebGLRenderer(canvas);
        const scene = new SPLAT.Scene();
        const camera = new SPLAT.Camera();
        const controls = new SPLAT.OrbitControls(camera, canvas);
        
        async function autoLoad() {
            const files = ['11_26_2025splat.splat', 'model.ply', 'scan.ply'];
            
            for (const filename of files) {
                try {
                    console.log(`Trying to load: ${filename}`);
                    await SPLAT.Loader.LoadAsync(filename, scene, (progress) => {
                        console.log(`Loading: ${Math.round(progress * 100)}%`);
                    });
                    console.log(`Successfully loaded: ${filename}`);
                    break;
                } catch (error) {
                    console.log(`Failed to load ${filename}:`, error.message);
                }
            }
        }
        
        function animate() {
            controls.update();
            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }
        
        autoLoad().then(() => {
            animate();
            console.log('3DGS viewer started');
        }).catch(error => {
            console.error('Failed to initialize viewer:', error);
        });
    </script>
</body>
</html>